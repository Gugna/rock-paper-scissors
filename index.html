<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <script>
        //Creates a function to get the computer's selection for the game
        function getComputerChoice() {
            let cpuChoice = Math.floor(Math.random() * 3) + 1; //Picks a random int between 1 and 3
            let computerSelection = 0; //Initializes a variable to store the computer's selection

            //Assign the proper move to each number.
            if (cpuChoice === '1') {
                computerSelection = "Rock"; 
            } else if (cpuChoice == '2') {
                computerSelection = "Paper";
            } else {
                computerSelection = "Scissors";
            }
            return computerSelection;
        }

        //Create the function to play a round of Rock, Paper, Scissors
        function playRound(computerSelection, playerSelection) {

            //Initialize the variable to store the result.
            let result = 0;

            //Compare the two choices - If equal call a tie. Else declare loss or victory.
            if (computerSelection.toUpperCase() === playerSelection.toUpperCase()) {
                result = "We have a tie!"
            } else if (computerSelection.toUpperCase() === "ROCK" && playerSelection.toUpperCase() === "PAPER") {
                result = "You win! Paper beats Rock";
            } else if (computerSelection.toUpperCase() === "ROCK" && playerSelection.toUpperCase() === "SCISSORS") {
                result = "You lose! Rock beats Scissors";               
            } else if (computerSelection.toUpperCase() === "PAPER" && playerSelection.toUpperCase() === "SCISSORS") {
                result = "You win! Scissors beat Paper";
            } else if (computerSelection.toUpperCase() === "PAPER" && playerSelection.toUpperCase() === "ROCK") {
                result = "You lose! Paper beats Rock";
            } else if (computerSelection.toUpperCase() === "SCISSORS" && playerSelection.toUpperCase() === "ROCK") {
                result = "You win! Rock beats Scissors";               
            } else if (computerSelection.toUpperCase() === "SCISSORS" && playerSelection.toUpperCase() === "PAPER") {
                result = "You lose! Scissors beat Paper";
            }          
                return result;
            }        
        //Create the function that stores wins and declares the best of 5
        function game() {
            let computerScore = 0;
            let playerScore = 0;

            //Loops five times to simulate the five rounds
            for (let i = 0; i < 5; i++) {
                let computerSelection = getComputerChoice(); //Calls the function for the computer's choice
                let playerSelection = prompt("Rock, Paper, Scissors!"); //Prompts the user to choose their move

                let round = playRound(computerSelection, playerSelection); //Stores the result of each round

                //Checks who won the round and adds to their tally. If there's a tie, does nothing.
                if (round.includes("win")) {
                    playerScore += 1;
                } else if (round.includes("lose")) {
                    computerScore += 1;
                } else {

                }
                console.log(round); //Outputs the round's result
                console.log("The score is " + playerScore + " - " + computerScore); //Outputs the score up to the current round
            }
        }

        game();

        // const playerSelection = "rock";
        // const computerSelection = getComputerChoice();
        // console.log(playRound(computerSelection, playerSelection));
        // console.log(computerSelection);

    </script>
</body>
</html>